[{"C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\index.js":"1","C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\App.js":"2","C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\reportWebVitals.js":"3","C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\components\\NavMain.jsx":"4","C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\api\\apiHandler.js":"5","C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\components\\Auth\\withUser.jsx":"6","C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\components\\Auth\\UserContext.jsx":"7","C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\Pages\\Home.jsx":"8","C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\components\\Auth\\UserProvider.jsx":"9","C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\pages\\Home.jsx":"10","C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\pages\\AdminDashboard.jsx":"11","C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\pages\\Profile.jsx":"12","C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\pages\\Signup.jsx":"13","C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\components\\Forms\\FormSignup.jsx":"14","C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\pages\\Signin.jsx":"15","C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\components\\Forms\\FormSignin.jsx":"16","C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\components\\Cards\\CardInfos.jsx":"17","C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\components\\Button.jsx":"18","C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\components\\Forms\\FormRequest.jsx":"19","C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\components\\Forms\\FormHome.jsx":"20","C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\components\\Cards\\CardDemands.jsx":"21","C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\pages\\SafeHomes.jsx":"22","C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\components\\Cards\\CardHomes.jsx":"23","C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\pages\\BecomeSafeHome.jsx":"24","C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\components\\Cards\\CardMyDemands.jsx":"25","C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\pages\\MyRequests.jsx":"26","C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\pages\\Request.jsx":"27"},{"size":400,"mtime":1610571031658,"results":"28","hashOfConfig":"29"},{"size":1222,"mtime":1610994180708,"results":"30","hashOfConfig":"29"},{"size":362,"mtime":499162500000,"results":"31","hashOfConfig":"29"},{"size":2158,"mtime":1610951548458,"results":"32","hashOfConfig":"29"},{"size":2833,"mtime":1610977748904,"results":"33","hashOfConfig":"29"},{"size":326,"mtime":1610575953772,"results":"34","hashOfConfig":"29"},{"size":105,"mtime":1610575533789,"results":"35","hashOfConfig":"29"},{"size":180,"mtime":1610551506839,"results":"36","hashOfConfig":"29"},{"size":1169,"mtime":1610575555660,"results":"37","hashOfConfig":"29"},{"size":180,"mtime":1610551506839,"results":"38","hashOfConfig":"29"},{"size":1499,"mtime":1610953164071,"results":"39","hashOfConfig":"29"},{"size":825,"mtime":1610638295642,"results":"40","hashOfConfig":"29"},{"size":173,"mtime":1610622217862,"results":"41","hashOfConfig":"29"},{"size":3954,"mtime":1610904257168,"results":"42","hashOfConfig":"29"},{"size":168,"mtime":1610623717753,"results":"43","hashOfConfig":"29"},{"size":2834,"mtime":1610623719783,"results":"44","hashOfConfig":"29"},{"size":1078,"mtime":1610951369229,"results":"45","hashOfConfig":"29"},{"size":562,"mtime":1610638259269,"results":"46","hashOfConfig":"29"},{"size":4108,"mtime":1610904787793,"results":"47","hashOfConfig":"29"},{"size":5138,"mtime":1610921540047,"results":"48","hashOfConfig":"29"},{"size":2257,"mtime":1610951115881,"results":"49","hashOfConfig":"29"},{"size":1673,"mtime":1610963109913,"results":"50","hashOfConfig":"29"},{"size":2057,"mtime":1610963787706,"results":"51","hashOfConfig":"29"},{"size":170,"mtime":1610950318164,"results":"52","hashOfConfig":"29"},{"size":1125,"mtime":1610993680211,"results":"53","hashOfConfig":"29"},{"size":731,"mtime":1610994303682,"results":"54","hashOfConfig":"29"},{"size":171,"mtime":1610994329888,"results":"55","hashOfConfig":"29"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},"1t662hu",{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68","usedDeprecatedRules":"58"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"79","usedDeprecatedRules":"58"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"82","usedDeprecatedRules":"58"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"85","usedDeprecatedRules":"58"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"100","usedDeprecatedRules":"101"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"104","usedDeprecatedRules":"58"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"109","usedDeprecatedRules":"58"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"112","usedDeprecatedRules":"58"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"117","usedDeprecatedRules":"58"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\index.js",[],["122","123"],"C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\App.js",[],"C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\reportWebVitals.js",[],["124","125"],"C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\components\\NavMain.jsx",[],"C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\api\\apiHandler.js",["126"],"import axios from \"axios\";\r\n\r\nconst service = axios.create({\r\n  baseURL: process.env.REACT_APP_BACKEND_URL,\r\n  withCredentials: true, // Cookie is sent to client when using this service. (used for session)\r\n});\r\n\r\nfunction errorHandler(error) {\r\n  if (error.response.data) {\r\n    console.log(error.response && error.response.data);\r\n    throw error;\r\n  }\r\n  throw error;\r\n}\r\n\r\nexport default {\r\n  service,\r\n\r\n  signup(userInfo) {\r\n    return service\r\n      .post(\"/api/auth/signup\", userInfo)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  signin(userInfo) {\r\n    return service\r\n      .post(\"/api/auth/signin\", userInfo)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  isLoggedIn() {\r\n    return service\r\n      .get(\"/api/auth/isLoggedIn\")\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  logout() {\r\n    return service\r\n      .get(\"/api/auth/logout\")\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  getUserInfos() {\r\n    return service\r\n      .get(\"/users/me\")\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  removeUser(userId) {\r\n    return service\r\n      .delete(`api/users/${userId}`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  updateUser(data) {\r\n    return service\r\n      .patch(\"/users/me\", data)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  createDemand(data) {\r\n    return service\r\n      .post(\"/api/demands\", data)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  // Get all demands. FOR THE ADMIN\r\n  getDemands() {\r\n    return service\r\n      .get(\"/api/demands\")\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  removeDemand(demandId) {\r\n    return service\r\n      .delete(`api/demands/${demandId}`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  updateDemand(demandId, data) {\r\n    return service\r\n      .patch(`api/demands/${demandId}`, data)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  getDemandsByUser() {\r\n    return service\r\n      .get(`api/demands/mydemands`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  createHome(data) {\r\n    return service\r\n      .post(\"/api/homes\", data)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  // Get all homes. FOR THE ADMIN\r\n  getHomes() {\r\n    return service\r\n      .get(\"/api/homes\")\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  removeHome(homeId) {\r\n    return service\r\n      .delete(`api/homes/${homeId}`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  updateHome(data) {\r\n    return service\r\n      .patch(\"api/homes/me\", data)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n};\r\n","C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\components\\Auth\\withUser.jsx",[],"C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\components\\Auth\\UserContext.jsx",[],"C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\Pages\\Home.jsx",[],"C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\components\\Auth\\UserProvider.jsx",[],"C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\pages\\Home.jsx",["127","128"],"import React, { Component } from \"react\";\r\nimport axios from 'axios';\r\n\r\n\r\n\r\nexport default function Home() {\r\n    return (\r\n        <div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n","C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\pages\\AdminDashboard.jsx",["129","130"],"import React, { Component } from 'react'\r\nimport { Link } from \"react-router-dom\"\r\nimport apiHandler from '../api/apiHandler';\r\nimport UserContext from '../components/Auth/UserContext'\r\nimport withUser from '../components/Auth/withUser'\r\nimport CardDemands from '../components/Cards/CardDemands'\r\nimport \"../styles/adminDashboard.css\"\r\n\r\n\r\nclass AdminDashboard extends Component {\r\n    static contextType = UserContext;\r\n\r\n    state = {\r\n        demands: [],\r\n        homes: []\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchDemands()\r\n        this.fetchHomes()\r\n    }\r\n\r\n    fetchDemands = () => {\r\n        apiHandler.getDemands().then((data) => {\r\n            this.setState({demands: data})\r\n        })\r\n    }\r\n\r\n    handleChangeStatus = (demandId, status) => {\r\n        apiHandler.updateDemand(demandId, {status}).then(() => {\r\n            this.fetchDemands()\r\n        })\r\n    }\r\n\r\n    fetchHomes = () => {\r\n        apiHandler.getHomes().then((data) => {\r\n            this.setState({homes: data})\r\n        })\r\n    }\r\n    render() {\r\n        const { demands } = this.state;\r\n        \r\n        return (\r\n            <div className= \"cardsContainer\">\r\n                <div className=\"container\">\r\n                    {demands.map((demand) => {\r\n                        return <CardDemands key={demand._id} handleChangeStatus={this.handleChangeStatus} {...demand} />\r\n                    })}\r\n                </div> \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default AdminDashboard","C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\pages\\Profile.jsx",["131","132"],"import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport UserContext from \"../components/Auth/UserContext\";\r\nimport apiHandler from \"../api/apiHandler\";\r\nimport CardInfos from \"../components/Cards/CardInfos\";\r\n// import ItemEditFrom from \"../components/Items/ItemEditForm\";\r\n// import ItemForm from \"../components/Items/ItemForm\";\r\nimport \"../styles/Profile.css\";\r\n\r\n\r\nexport default class Profile extends Component {\r\n    state = {\r\n        firstName: \"\",\r\n        lastName: \"\",\r\n        email: \"\",\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        apiHandler.getUserInfos().then((data) => {\r\n          this.setState({ userInfos: data });\r\n        });\r\n      }\r\n    \r\n    render() {\r\n        return (\r\n            <div>\r\n                <CardInfos/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\pages\\Signup.jsx",[],"C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\components\\Forms\\FormSignup.jsx",[],"C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\pages\\Signin.jsx",[],"C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\components\\Forms\\FormSignin.jsx",[],"C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\components\\Cards\\CardInfos.jsx",[],"C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\components\\Button.jsx",[],"C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\components\\Forms\\FormRequest.jsx",["133","134","135"],"import React, { Component } from \"react\";\r\nimport { Link, Redirect, withRouter } from \"react-router-dom\";\r\nimport UserContext from \"../Auth/UserContext\";\r\nimport  withUser from \"../Auth/withUser\"\r\nimport apiHandler from \"../../api/apiHandler\";\r\nimport \"../../styles/form.css\";\r\n\r\nclass FormRequest extends Component {\r\n  static contextType = UserContext;\r\n\r\n  state = {\r\n    message: \"\",\r\n    numOfChildren: 0,\r\n    numOfAnimals: 0,\r\n    tempAddress: \"\",\r\n    tempZipCode: \"\",\r\n    tempCity: \"\",\r\n    AdditionalInformation: \"\",\r\n    id_user: \"\"\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    const value = event.target.value;\r\n    const key = event.target.name;\r\n    this.setState({ [key]: value });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    apiHandler\r\n      .createDemand(this.state)\r\n      .then((data) => {\r\n        this.context.setUser(data); \r\n        this.props.history.push(\"/myrequests\")// update the context\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  render() {\r\n\r\n    return (\r\n      <section className=\"form-section\">\r\n        <header className=\"header\">\r\n          <h1>We are here for you</h1>\r\n        </header>\r\n\r\n        <form autoComplete=\"off\" className=\"form\" onSubmit={this.handleSubmit}>\r\n          <p>We need some additional information first</p>\r\n\r\n          \r\n          <div className=\"form-group\">\r\n            \r\n            <label className=\"label\" htmlFor=\"children\">\r\n              Are you accompanied by children?\r\n            </label>\r\n            <input\r\n              onChange={this.handleChange}\r\n              value={this.state.numOfChildren}\r\n              className=\"input\"\r\n              id=\"children\"\r\n              type=\"number\"\r\n              name=\"numOfChildren\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            \r\n            <label className=\"label\" htmlFor=\"animals\">\r\n              Are you accompanied by animals?\r\n            </label>\r\n            <input\r\n              onChange={this.handleChange}\r\n              value={this.state.numOfAnimals}\r\n              className=\"input\"\r\n              id=\"animals\"\r\n              type=\"number\"\r\n              name=\"numOfAnimals\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <p>Where are you currently ?</p>\r\n            <label className=\"label\" htmlFor=\"address\">\r\n              Address\r\n            </label>\r\n            <input\r\n              onChange={this.handleChange}\r\n              value={this.state.tempAddress}\r\n              className=\"input\"\r\n              id=\"address\"\r\n              type=\"text\"\r\n              name=\"tempAddress\"\r\n            />\r\n             <label className=\"label\" htmlFor=\"zipcode\">\r\n              Zip Code\r\n            </label>\r\n            <input\r\n              onChange={this.handleChange}\r\n              value={this.state.tempZipCode}\r\n              className=\"input\"\r\n              id=\"zipcode\"\r\n              type=\"text\"\r\n              name=\"tempZipCode\"\r\n            />\r\n             <label className=\"label\" htmlFor=\"city\">\r\n              City\r\n            </label>\r\n            <input\r\n              onChange={this.handleChange}\r\n              value={this.state.tempCity}\r\n              className=\"input\"\r\n              id=\"city\"\r\n              type=\"text\"\r\n              name=\"tempCity\"\r\n            />\r\n          </div>\r\n          \r\n          \r\n          <div className=\"form-group\">\r\n            <label className=\"label\" htmlFor=\"adiInformation\">\r\n            Any additionnal information ?\r\n            </label>\r\n            <input\r\n              onChange={this.handleChange}\r\n              value={this.state.additionalInformation}\r\n              className=\"input\"\r\n              id=\"adiInformation\"\r\n              type=\"textarea\"\r\n              name=\"additionalInformation\"\r\n              placeholder=\"Allergies, special needs, etc\"\r\n            />\r\n          </div>\r\n\r\n          <button className=\"btn-submit\">Send</button>\r\n        </form>\r\n\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(FormRequest)\r\n",["136","137"],"C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\components\\Forms\\FormHome.jsx",["138","139","140"],"import React, { Component } from \"react\";\r\nimport { Link, Redirect, withRouter } from \"react-router-dom\";\r\nimport UserContext from \"../Auth/UserContext\";\r\nimport  withUser from \"../Auth/withUser\"\r\nimport apiHandler from \"../../api/apiHandler\";\r\nimport \"../../styles/form.css\";\r\n\r\nclass FormRequest extends Component {\r\n  static contextType = UserContext;\r\n\r\n  state = {\r\n    address: \"\",\r\n    zipCode: \"\",\r\n    city: \"\",\r\n    acceptsChildren: false,\r\n    acceptsAnimals: false,\r\n    id_user: \"\",\r\n    size: 0,\r\n    numOfRooms: 0\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    const value = event.target.value;\r\n    const key = event.target.name;\r\n    this.setState({ [key]: value });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    apiHandler\r\n      .createHome(this.state)\r\n      .then((data) => {\r\n        this.context.setUser(data); \r\n        this.props.history.push(\"/\")// update the context\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  render() {\r\n\r\n    return (\r\n      <section className=\"form-section\">\r\n        <header className=\"header\">\r\n          <h1>Become a Safe home ! </h1>\r\n        </header>\r\n\r\n        <form autoComplete=\"off\" className=\"form\" onSubmit={this.handleSubmit}>\r\n          <p>We need some additional information first</p>\r\n\r\n          \r\n          <div className=\"form-group\">\r\n            <h2>Where do you live</h2>\r\n            <label className=\"label\" htmlFor=\"address\">\r\n              Address\r\n            </label>\r\n            <input\r\n              onChange={this.handleChange}\r\n              value={this.state.address}\r\n              className=\"input\"\r\n              id=\"address\"\r\n              type=\"text\"\r\n              name=\"address\"\r\n            />\r\n            <label className=\"label\" htmlFor=\"city\">\r\n              City\r\n            </label>\r\n            <input\r\n              onChange={this.handleChange}\r\n              value={this.state.city}\r\n              className=\"input\"\r\n              id=\"city\"\r\n              type=\"text\"\r\n              name=\"city\"\r\n            />\r\n            <label className=\"label\" htmlFor=\"zipCode\">\r\n              Zipcode\r\n            </label>\r\n            <input\r\n              onChange={this.handleChange}\r\n              value={this.state.zipCode}\r\n              className=\"input\"\r\n              id=\"zipCode\"\r\n              type=\"text\"\r\n              name=\"zipCode\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <p>About your home</p>\r\n            <label className=\"label\" htmlFor=\"size\">\r\n                What is its size ?\r\n            </label>\r\n            <input\r\n              onChange={this.handleChange}\r\n              value={this.state.size}\r\n              className=\"input\"\r\n              id=\"size\"\r\n              type=\"number\"\r\n              name=\"size\"\r\n            />\r\n             <label className=\"label\" htmlFor=\"rooms\">\r\n              How many rooms does it have ?\r\n            </label>\r\n            <input\r\n              onChange={this.handleChange}\r\n              value={this.state.numOfRooms}\r\n              className=\"input\"\r\n              id=\"rooms\"\r\n              type=\"number\"\r\n              name=\"numOfRooms\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <h2>Children and Animals</h2>\r\n            \r\n              \r\n            \r\n            <input\r\n              onChange={({ target: { name } }) => {\r\n                this.handleChange({target: { name, value: !this.state.acceptsChildren}})\r\n              }}\r\n              value={this.state.acceptsChildren}\r\n              className=\"input\"\r\n              id=\"checkboxChildren\"\r\n              type=\"checkbox\"\r\n              name=\"acceptsChildren\"/>\r\n              <label className=\"label\" htmlFor=\"acceptsChildren\">I can welcome children</label>\r\n            \r\n\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n          \r\n            <input\r\n              onChange={({ target: { name } }) => {\r\n                this.handleChange({target: { name, value: !this.state.acceptsAnimals}})\r\n              }}\r\n              value={this.state.acceptsAnimals}\r\n              className=\"input\"\r\n              id=\"checkboxAnimals\"\r\n              type=\"checkbox\"\r\n              name=\"acceptsAnimals\"\r\n            />\r\n            <label className=\"label\" htmlFor=\"acceptsAnimals\">I can welcome animals</label>\r\n           \r\n           \r\n          </div>\r\n\r\n\r\n          <div className=\"form-group\">\r\n            <label className=\"label\" htmlFor=\"adiInformation\">\r\n            Any additionnal information ?\r\n            </label>\r\n            <input\r\n              onChange={this.handleChange}\r\n              value={this.state.AdditionalInformation}\r\n              className=\"input\"\r\n              id=\"adiInformation\"\r\n              type=\"text\"\r\n              name=\"AdditionalInformation\"\r\n              placeholder=\"Special needs, regular visits, etc\"\r\n            />\r\n          </div>\r\n\r\n          <button className=\"btn-submit\">Send</button>\r\n        </form>\r\n\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(FormRequest)\r\n","C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\components\\Cards\\CardDemands.jsx",[],"C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\pages\\SafeHomes.jsx",["141","142"],"import React, { Component } from 'react'\r\nimport { Link } from \"react-router-dom\"\r\nimport apiHandler from '../api/apiHandler';\r\nimport UserContext from '../components/Auth/UserContext'\r\nimport withUser from '../components/Auth/withUser'\r\nimport CardHomes from '../components/Cards/CardHomes'\r\nimport \"../styles/adminDashboard.css\"\r\n\r\n\r\nclass SafeHomes extends Component {\r\n    static contextType = UserContext;\r\n\r\n    state = {\r\n        demands: [],\r\n        homes: []\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchDemands()\r\n        this.fetchHomes()\r\n    }\r\n\r\n    fetchHomes = () => {\r\n        apiHandler.getHomes().then((data) => {\r\n            this.setState({homes: data})\r\n        })\r\n    }\r\n\r\n    fetchDemands = () => {\r\n        apiHandler.getDemands().then((data) => {\r\n            this.setState({demands: data})\r\n        })\r\n    }\r\n\r\n    fetchPendingDemands = () => {\r\n       return this.state.demands.filter(demand => demand.status === \"Pending\")\r\n    }\r\n\r\n    handleChangeStatus = (demandId, status) => {\r\n        apiHandler.updateDemand(demandId, {status}).then(() => {\r\n            this.fetchHomes()\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { homes } = this.state;\r\n        console.log(this.fetchPendingDemands());\r\n        return (\r\n            <div className= \"cardsContainer\">\r\n                <div className=\"container\">\r\n                    {homes.map((home) => {\r\n                        return <CardHomes key={home._id} handleChangeStatus={this.handleChangeStatus} demands={this.fetchPendingDemands()}{...home} />\r\n                    })}\r\n                </div> \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default SafeHomes","C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\components\\Cards\\CardHomes.jsx",["143"],"import React,  { useState } from \"react\";\r\nimport Button from \"../Button\";\r\nimport \"../../styles/cardInfos.css\";\r\nimport  \"../../styles/cardHomes.css\"\r\n\r\nconst CardHomes = ({\r\n  id_user: {\r\n      firstName,\r\n      lastName,\r\n      phoneNumber,\r\n      age,\r\n      email\r\n  },\r\n  address,\r\n  city,\r\n  zipCode,\r\n  acceptsChildren,\r\n  acceptsAnimals,\r\n  size,\r\n  numOfRooms,\r\n  _id,\r\n  image,\r\n  handleChangeStatus,\r\n  context,\r\n  demands\r\n  \r\n}) => {\r\n  const [isSelectShown, toggleIsSelectShown] = useState(false)\r\n  \r\n const hideSelect = () => {\r\n   toggleIsSelectShown(false)\r\n }\r\n\r\n const handleChange = (status) => {\r\n   hideSelect()\r\n   handleChangeStatus(_id, status)\r\n }\r\n\r\n  return (\r\n    <div  className={`cardHomes`}>\r\n        \r\n            <p>Name: {firstName}</p>\r\n            <p>Last Name: {lastName}</p>\r\n            <p>Phone number: {phoneNumber}</p>\r\n            <p>Email: {email}</p>\r\n            <p>Age: {age}</p>\r\n            <p>Accepts children: {acceptsChildren}</p>\r\n            <p>Accepts animals: {acceptsAnimals}</p>\r\n            <p>Address : {address}</p>\r\n            <p>City: {city}</p>\r\n            <p>Zipcode: {zipCode}</p>\r\n            <p>Size: {size}</p>\r\n            <p>Number of rooms: {numOfRooms}</p>\r\n        \r\n\r\n      \r\n        <div className=\"buttons\">\r\n        <Button handleClick={() => toggleIsSelectShown(true) } primary>\r\n            Assign request\r\n          </Button>\r\n          {isSelectShown && (\r\n            <>\r\n              <select name=\"pets\" id=\"pet-select\">\r\n                <option value=\"\">--Select user--</option>\r\n                {demands.map((demand) => {\r\n                  console.log(demand);\r\n                  return <option key={demand._id} value={demand._id}>{demand.id_user.firstName} {demand.id_user.lastName}</option>\r\n                })}\r\n                \r\n              </select>\r\n              <Button>Confirm</Button>\r\n              <Button handleClick={hideSelect}>Cancel</Button>\r\n            </>\r\n          )}\r\n\r\n        </div>\r\n      </div>\r\n  );\r\n};\r\n\r\nexport default CardHomes;\r\n","C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\pages\\BecomeSafeHome.jsx",[],"C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\components\\Cards\\CardMyDemands.jsx",["144","145","146"],"import React,  { useState } from \"react\";\r\nimport Button from \"../Button\";\r\nimport \"../../styles/cardInfos.css\";\r\nimport  \"../../styles/cardDemands.css\"\r\n\r\nconst CardMyDemands = ({\r\n  numOfChildren,\r\n  numOfAnimals,\r\n  tempAddress,\r\n  tempCity,\r\n  tempZipCode,\r\n  additionalInformation,\r\n  status,\r\n  _id,\r\n  image,\r\n  handleChangeStatus,\r\n  context,\r\n  \r\n}) => {\r\n  const [isSelectShown, toggleIsSelectShown] = useState(false)\r\n  \r\n const hideSelect = () => {\r\n   toggleIsSelectShown(false)\r\n }\r\n\r\n const handleChange = (status) => {\r\n   hideSelect()\r\n   handleChangeStatus(_id, status)\r\n }\r\n\r\n  return (\r\n    <div  className={`cardDemand card-${status.toLowerCase() || \"\"}`}>\r\n        \r\n            <p>Number of children: {numOfChildren}</p>\r\n            <p>Number of animals: {numOfAnimals}</p>\r\n            <p>Temporary address : {tempAddress}</p>\r\n            <p>Temporary city: {tempCity}</p>\r\n            <p>Temporary zipcode: {tempZipCode}</p>\r\n            <p>Additional information: {additionalInformation}</p>\r\n            <p>Status: {status}</p>\r\n        \r\n      </div>\r\n  );\r\n};\r\n\r\nexport default CardMyDemands;\r\n","C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\pages\\MyRequests.jsx",["147","148"],"C:\\Users\\duart\\Documents\\IronHack\\Ironhack course\\React-project\\client\\src\\pages\\Request.jsx",[],{"ruleId":"149","replacedBy":"150"},{"ruleId":"151","replacedBy":"152"},{"ruleId":"149","replacedBy":"153"},{"ruleId":"151","replacedBy":"154"},{"ruleId":"155","severity":1,"message":"156","line":16,"column":1,"nodeType":"157","endLine":132,"endColumn":3},{"ruleId":"158","severity":1,"message":"159","line":1,"column":17,"nodeType":"160","messageId":"161","endLine":1,"endColumn":26},{"ruleId":"158","severity":1,"message":"162","line":2,"column":8,"nodeType":"160","messageId":"161","endLine":2,"endColumn":13},{"ruleId":"158","severity":1,"message":"163","line":2,"column":10,"nodeType":"160","messageId":"161","endLine":2,"endColumn":14},{"ruleId":"158","severity":1,"message":"164","line":5,"column":8,"nodeType":"160","messageId":"161","endLine":5,"endColumn":16},{"ruleId":"158","severity":1,"message":"163","line":2,"column":10,"nodeType":"160","messageId":"161","endLine":2,"endColumn":14},{"ruleId":"158","severity":1,"message":"165","line":3,"column":8,"nodeType":"160","messageId":"161","endLine":3,"endColumn":19},{"ruleId":"158","severity":1,"message":"163","line":2,"column":10,"nodeType":"160","messageId":"161","endLine":2,"endColumn":14},{"ruleId":"158","severity":1,"message":"166","line":2,"column":16,"nodeType":"160","messageId":"161","endLine":2,"endColumn":24},{"ruleId":"158","severity":1,"message":"164","line":4,"column":9,"nodeType":"160","messageId":"161","endLine":4,"endColumn":17},{"ruleId":"149","replacedBy":"167"},{"ruleId":"151","replacedBy":"168"},{"ruleId":"158","severity":1,"message":"163","line":2,"column":10,"nodeType":"160","messageId":"161","endLine":2,"endColumn":14},{"ruleId":"158","severity":1,"message":"166","line":2,"column":16,"nodeType":"160","messageId":"161","endLine":2,"endColumn":24},{"ruleId":"158","severity":1,"message":"164","line":4,"column":9,"nodeType":"160","messageId":"161","endLine":4,"endColumn":17},{"ruleId":"158","severity":1,"message":"163","line":2,"column":10,"nodeType":"160","messageId":"161","endLine":2,"endColumn":14},{"ruleId":"158","severity":1,"message":"164","line":5,"column":8,"nodeType":"160","messageId":"161","endLine":5,"endColumn":16},{"ruleId":"158","severity":1,"message":"169","line":34,"column":8,"nodeType":"160","messageId":"161","endLine":34,"endColumn":20},{"ruleId":"158","severity":1,"message":"170","line":2,"column":8,"nodeType":"160","messageId":"161","endLine":2,"endColumn":14},{"ruleId":"158","severity":1,"message":"171","line":20,"column":10,"nodeType":"160","messageId":"161","endLine":20,"endColumn":23},{"ruleId":"158","severity":1,"message":"169","line":26,"column":8,"nodeType":"160","messageId":"161","endLine":26,"endColumn":20},{"ruleId":"158","severity":1,"message":"163","line":2,"column":10,"nodeType":"160","messageId":"161","endLine":2,"endColumn":14},{"ruleId":"158","severity":1,"message":"172","line":4,"column":8,"nodeType":"160","messageId":"161","endLine":4,"endColumn":21},"no-native-reassign",["173"],"no-negated-in-lhs",["174"],["173"],["174"],"import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","no-unused-vars","'Component' is defined but never used.","Identifier","unusedVar","'axios' is defined but never used.","'Link' is defined but never used.","'withUser' is defined but never used.","'UserContext' is defined but never used.","'Redirect' is defined but never used.",["173"],["174"],"'handleChange' is assigned a value but never used.","'Button' is defined but never used.","'isSelectShown' is assigned a value but never used.","'CardMyDemands' is defined but never used.","no-global-assign","no-unsafe-negation"]